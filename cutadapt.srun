#!/bin/bash

#SBATCH --account=bgmp
#SBATCH --partition=bgmp
#SBATCH --time=10:00:00

# inputs
# 1 = 1st adapter sequence
# 2 = 2nd adapter sequence
# 3 = Desired adapter-trimmed read 1 output fastq.gz
# 4 = Desired adapter-trimmed read 2 output fastq.gz
# 5 = Read 1 fastq.gz
# 6 = Read 2 fastq.gz

# activate conda environment
conda activate QAA

# define variables
adapter1=$1 "AGATCGGAAGAGCACACGTCTGAACTCCAGTCA"
adapter2=$2 "AGATCGGAAGAGCGTCGTGTAGGGAAAGAGTGT"
trimmed_output_file1=$3 "/projects/bgmp/jadler2/bioinfo/Bi623/QAA/trimmed_31_4F_fox_S22_L008_R1_001.fastq.gz"
trimmed_output_file2=$4 "/projects/bgmp/jadler2/bioinfo/Bi623/QAA/trimmed_31_4F_fox_S22_L008_R2_001.fastq.gz"
input_file1=$5 "/projects/bgmp/shared/2017_sequencing/demultiplexed/31_4F_fox_S22_L008_R1_001.fastq.gz"
input_file2=$6 "/projects/bgmp/shared/2017_sequencing/demultiplexed/31_4F_fox_S22_L008_R2_001.fastq.gz"
threads=6

# run
/usr/bin/time -v cutadapt \
    -a $adapter1 \
    -o $trimmed_output_file1 \
    $input_file1 \
    -j $threads

/usr/bin/time -v cutadapt \
    -a $adapter2 \
    -o $trimmed_output_file2 \
    $input_file2 \
    -j $threads